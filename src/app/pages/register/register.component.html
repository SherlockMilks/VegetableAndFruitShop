<div class="register-container">
    <h1>Register</h1>

    <form [formGroup]="registerForm" (ngSubmit)="register()" class="register-form">
        <mat-form-field appearance="outline">
            <mat-label>Name</mat-label>
            <input matInput type="text" formControlName="name">
            <mat-icon matSuffix>person</mat-icon>
        </mat-form-field>


        <mat-form-field appearance="outline">
            <mat-label>Email</mat-label>
            <input matInput type="email" formControlName="email">
            <mat-icon matSuffix>email</mat-icon>
        </mat-form-field>
  
        <mat-form-field appearance="outline">
          <mat-label>Password</mat-label>
          <input matInput type="password" formControlName="password">
          <mat-icon matSuffix>lock</mat-icon>
        </mat-form-field>
  
        <mat-form-field appearance="outline">
          <mat-label>Confirm Password</mat-label>
          <input matInput type="password" formControlName="rePassword">
          <mat-icon matSuffix>lock</mat-icon>
        </mat-form-field>

        <mat-form-field appearance="outline">
            <mat-label>Phone number</mat-label>
            <input matInput type="text" formControlName="phoneNumber">
            <mat-icon matSuffix>phone</mat-icon>
          </mat-form-field>


        <div class="address-row" formGroupName="address">
            <mat-form-field appearance="outline">
              <mat-label>Full address</mat-label>
              <input matInput formControlName="full_address">
              <mat-icon matSuffix>house</mat-icon>
            </mat-form-field>
    
            <mat-form-field appearance="outline">
              <mat-label>Postal code</mat-label>
              <input matInput formControlName="postal_code">
              <mat-icon matSuffix>location_on</mat-icon>
            </mat-form-field>
          </div>

        @if(registerError.length!==0){
            @for (error of registerError; track $index) {
                <div class="error-message"> {{error}} </div>
            }
        }
  

        <button mat-flat-button type="submit" class="button">Register</button>
        <button mat-flat-button [routerLink]="['/login']" class="button">Sign In</button>
    </form>
  </div>